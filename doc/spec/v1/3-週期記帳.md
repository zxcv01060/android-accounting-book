# 週期記帳

[上一篇 - 錢包](2-錢包.md)

> 預計實現版本：v1.2

## 功能介紹

由於現在市面上有著大量訂閱制服務，使用者可藉由此功能來新增這些週期性的固定收支，達到節省手動記帳的目的

目前僅支援每年、每月這兩種頻率，除此之外也可以選擇具體為哪一天，例如每年的二月十五日、每月的五號，若選擇的天數不是每一年(例如02/29)，或者不是每一個月都有(31號)，則預設會以該月的最後一天當代表新增

例如使用者選擇02/29，則在2025年時會自動在二月的最後一天，也就是02/28日新增記帳記錄

## 畫面

### 清單

此處會將目前已新增的所有週期記帳一併列出，優先顯示距離下一次記帳最短的週期記帳，相同時間的情況下則以每年優先顯示，最後則是按照新增順序遞增排序

使用者也可以在此決定是否啟用週期記帳，是否啟用不會影響排序

#### 欄位說明

(Figma截圖)

| 欄位   | 預設值 | 提示 | 備註                                 |
|------|-----|----|------------------------------------|
| 項目名稱 |     |    |                                    |
| 金額   |     |    | 無論是收入或支出，皆不顯示正負符號，且文字顏色需符合收入、支出的顏色 |
| 頻率   |     |    |                                    |
| 開關   |     |    |                                    |
| +    |     | 新增 |                                    |

#### 事件流程

| 事件                 | 反應                                      |
|--------------------|-----------------------------------------|
| 點擊任意週期記帳           | 開啟新增、編輯頁面，並將被點擊的週期記帳資料帶入                |
| 點擊開關               | 若此週期記帳已為不啟用，則將此週期記帳改為啟用；反之亦然            |
| 點擊+                | 開啟新增、編輯頁面                               |
| 點擊手機自帶的返回按鈕或自帶的上一頁 | 顯示提示訊息："再一次離開應用程式"，在五秒內再次執行此事件，則將應用程式關閉 |

### 新增、編輯頁面

此處可以新增、編輯週期記帳，若新增、編輯後設定的頻率剛好為當天，則不會自動新增對應的記帳記錄

#### 欄位說明

(Figma截圖)

| 欄位   | 預設值  | 提示 | 限制          | 預計實現版本 | 備註                                       |
|------|------|----|-------------|--------|------------------------------------------|
| 分類   |      |    | 必填          |        |                                          |
| 錢包   | 預設錢包 |    | 必填          | v1.1   | 以下拉選單的形式將所有錢包列出，先顯示預設錢包，其餘錢包按照名稱遞增排序放在後面 |
| 錢包餘額 |      |    |             | v1.1   |                                          |
| 項目名稱 |      |    | 必填，最多20個全形字 |        |                                          |
| 金額   |      |    | 必填，必須大於等於0  |        | 有商品細項時，此欄位唯讀                             |
| 商品細項 |      |    |             | v1.2   |                                          |
| 備註   |      |    | 最多1000個全形字  |        |                                          |

#### 事件流程

| 事件              | 反應                                                          |
|-----------------|-------------------------------------------------------------|
| 點擊分類欄位          | 顯示分類選擇器，預設為支出分類的第一個類型，同1-記帳記錄的[選擇分類](1-記帳記錄.md#選擇分類)        |
| 選擇錢包            | 將餘額顯示至錢包餘額欄位內                                               |
| Focus項目名稱欄位     | 確認是否已選擇分類，若已選擇，則將該類型的所有記帳記錄以下拉選單形式展開，以新增順序遞減排序，相同項目名稱不會重複列出 |
| 選擇項目名稱下拉選單的任意項目 | 將最新的記帳記錄資料填入底下的欄位，若有任意欄位已有值，則需顯示提示視窗詢問使用者是否確定覆蓋             |
| Focus金額欄位       | 將輸入框內的千分位移除                                                 |
| 取消Focus金額欄位     | 輸入框內加上千分位顯示                                                 |
| 點擊商品細項按鈕        | 顯示商品細項頁面，同1-記帳記錄的[商品細項](1-記帳記錄.md#商品細項)                     |

## 相關功能

[上一篇 - 錢包](2-錢包.md)

## 異動紀錄

* 2025/04/25 初版
